version: 0.2
phases:
  install:
    runtime-versions:
      dotnet: 8.0  #  .NET
    commands:
      - echo Installing dependencies...
      - dotnet restore  # 
  pre_build:
    commands:
      - echo Pre-build phase: Preparing for tests...
  build:
    commands:
      - echo Building the project...
      - dotnet build TodoList.MVC --configuration Release  #
      - echo Running NUnit tests...
      - dotnet test TodoList.Tests --logger "trx;LogFileName=test_results.trx"  # 
  post_build:
    commands:
      - echo Post-build phase: Packaging the application...
      - dotnet publish TodoList.MVC --configuration Release --output ./publish  #
artifacts:
  files:
    - publish/**/*  # 
  base-directory: ./  # 
reports:
  test_reports:
    files:
      - test_results.trx  # 
    base-directory: ./  #
